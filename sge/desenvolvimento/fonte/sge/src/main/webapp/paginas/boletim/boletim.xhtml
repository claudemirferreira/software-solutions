<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:ss2="http://www.3iti.com.br/jsf/componentes"
	xmlns:ss="http://java.sun.com/jsf/composite/jsf2_component"
	template="/resources/layout/search_template.xhtml">

	<ui:param name="pageTitle" value="Boletim" />
	<ui:param name="pageHeader" value="Boletim" />
	<ui:param name="managedBean" value="#{boletimControlador}" />
	<ui:param name="renderSearch" value="false" />
	
	<ui:param name="renderCancelar" value="true" />
	
	<p:commandButton id="btnImprimir" onclick="form.target='_blank'"
		ajax="false" value="Imprimir" action="#{managedBean.imprimir()}"
		disabled="#{empty managedBean.listaPesquisa}" icon="ui-icon-print"
		styleClass="ui-priority-primary" immediate="true" />

	<ss:button id="btnCancelar" type="cancelar"
		managedBean="#{managedBean}" update=":form" />


	<ui:define name="grid_region">

		<p:dataTable id="rowEditingTable" var="item"
			value="#{boletimControlador.listaPesquisa}" paginator="true"
			rows="15" paginatorPosition="bottom" editable="true">

			<p:ajax event="rowEdit" listener="#{boletimControlador.onEdit}"
				update=":form:msg" />

			<f:facet name="header">  
            Boletim do aluno   #{boletimControlador.entidade.matricula.aluno.nome}
        </f:facet>

			<p:column headerText="Disciplina">
				<h:outputText value="#{item.disciplina.nome}" />
			</p:column>

			<p:column>
				<f:facet name="header">
					<h:outputText value="1 Nota" />
				</f:facet>
				<p:cellEditor>
					<f:facet name="output">
						<h:outputText value="#{item.nota1}" />
					</f:facet>
					<f:facet name="input">
						<p:inputText id="nota1" value="#{item.nota1}" style="width:96%" />
					</f:facet>
				</p:cellEditor>
			</p:column>

			<p:column>
				<f:facet name="header">
					<h:outputText value="2 Nota" />
				</f:facet>
				<p:cellEditor>
					<f:facet name="output">
						<h:outputText value="#{item.nota2}" />
					</f:facet>
					<f:facet name="input">
						<p:inputText id="nota2" value="#{item.nota2}" style="width:96%" />
					</f:facet>
				</p:cellEditor>
			</p:column>

			<p:column>
				<f:facet name="header">
					<h:outputText value="3 Nota" />
				</f:facet>
				<p:cellEditor>
					<f:facet name="output">
						<h:outputText value="#{item.nota3}" />
					</f:facet>
					<f:facet name="input">
						<p:inputText id="nota3" value="#{item.nota3}" style="width:96%" />
					</f:facet>
				</p:cellEditor>
			</p:column>

			<p:column>
				<f:facet name="header">
					<h:outputText value="4 Nota" />
				</f:facet>
				<p:cellEditor>
					<f:facet name="output">
						<h:outputText value="#{item.nota4}" />
					</f:facet>
					<f:facet name="input">
						<p:inputText id="nota4" value="#{item.nota4}" style="width:96%" />
					</f:facet>
				</p:cellEditor>
			</p:column>

			<p:column>
				<f:facet name="header">
					<h:outputText value="5 Nota" />
				</f:facet>
				<p:cellEditor>
					<f:facet name="output">
						<h:outputText value="#{item.nota5}" />
					</f:facet>
					<f:facet name="input">
						<p:inputText id="nota5" value="#{item.nota5}" style="width:96%" />
					</f:facet>
				</p:cellEditor>
			</p:column>

			<p:column>
				<f:facet name="header">
					<h:outputText value="6 Nota" />
				</f:facet>
				<p:cellEditor>
					<f:facet name="output">
						<h:outputText value="#{item.nota6}" />
					</f:facet>
					<f:facet name="input">
						<p:inputText id="nota6" value="#{item.nota6}" style="width:96%" />
					</f:facet>
				</p:cellEditor>
			</p:column>

			<p:column>
				<f:facet name="header">
					<h:outputText value="7 Nota" />
				</f:facet>
				<p:cellEditor>
					<f:facet name="output">
						<h:outputText value="#{item.nota7}" />
					</f:facet>
					<f:facet name="input">
						<p:inputText id="nota17" value="#{item.nota7}" style="width:96%" />
					</f:facet>
				</p:cellEditor>
			</p:column>

			<p:column>
				<f:facet name="header">
					<h:outputText value="8 Nota" />
				</f:facet>
				<p:cellEditor>
					<f:facet name="output">
						<h:outputText value="#{item.nota8}" />
					</f:facet>
					<f:facet name="input">
						<p:inputText id="nota8" value="#{item.nota8}" style="width:96%" />
					</f:facet>
				</p:cellEditor>
			</p:column>

			<p:column style="width:6%" exportable="false">
				<p:rowEditor />
			</p:column>
		</p:dataTable>

	</ui:define>

</ui:composition>