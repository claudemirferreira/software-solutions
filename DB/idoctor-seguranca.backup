--
-- PostgreSQL database dump
--

-- Started on 2012-07-06 17:39:34

SET statement_timeout = 0;
SET client_encoding = 'LATIN1';
SET standard_conforming_strings = off;
SET check_function_bodies = false;
SET client_min_messages = warning;
SET escape_string_warning = off;

--
-- TOC entry 20 (class 2615 OID 2811126)
-- Name: seguranca; Type: SCHEMA; Schema: -; Owner: root
--

CREATE SCHEMA seguranca;


ALTER SCHEMA seguranca OWNER TO root;

SET search_path = seguranca, pg_catalog;

SET default_tablespace = '';

SET default_with_oids = false;

--
-- TOC entry 3844 (class 1259 OID 2811434)
-- Dependencies: 20
-- Name: unidade_organizacional; Type: TABLE; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE TABLE unidade_organizacional (
    id_unidade_organizacional integer NOT NULL,
    id_unidade_organizacional_pai integer,
    nb_tipo_und_organizacional integer NOT NULL,
    id_unidade_organizacional_raiz integer,
    tx_unidade_organizacional character varying(100) NOT NULL,
    tx_codigo character varying(30) NOT NULL,
    cs_ativo boolean NOT NULL,
    cs_permitir_atend_ambulatorial boolean,
    cs_uti boolean
);


ALTER TABLE seguranca.unidade_organizacional OWNER TO root;

--
-- TOC entry 3845 (class 1259 OID 2811436)
-- Dependencies: 20
-- Name: usuario_und_organizacional; Type: TABLE; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE TABLE usuario_und_organizacional (
    id_usuario integer NOT NULL,
    id_unidade_organizacional integer NOT NULL,
    dt_alocacao timestamp without time zone NOT NULL
);


ALTER TABLE seguranca.usuario_und_organizacional OWNER TO root;

--
-- TOC entry 4055 (class 1259 OID 2812044)
-- Dependencies: 20
-- Name: sys_tipo_und_organizacional; Type: TABLE; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE TABLE sys_tipo_und_organizacional (
    nb_tipo_und_organizacional integer NOT NULL,
    tx_tipo_unidade_organizacional character varying(50) NOT NULL
);


ALTER TABLE seguranca.sys_tipo_und_organizacional OWNER TO root;

--
-- TOC entry 4056 (class 1259 OID 2812046)
-- Dependencies: 4943 20
-- Name: vw_unidade_organizacional; Type: VIEW; Schema: seguranca; Owner: root
--

CREATE VIEW vw_unidade_organizacional AS
    SELECT u.id_unidade_organizacional, u.id_unidade_organizacional_pai, u.id_unidade_organizacional_raiz, u.nb_tipo_und_organizacional, sys.tx_tipo_unidade_organizacional, u.tx_unidade_organizacional, u.tx_codigo, u.cs_ativo FROM (unidade_organizacional u JOIN sys_tipo_und_organizacional sys ON ((sys.nb_tipo_und_organizacional = u.nb_tipo_und_organizacional)));


ALTER TABLE seguranca.vw_unidade_organizacional OWNER TO root;

--
-- TOC entry 4422 (class 1259 OID 2813031)
-- Dependencies: 20
-- Name: grupo_usuario; Type: TABLE; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE TABLE grupo_usuario (
    id_grupo integer NOT NULL,
    id_usuario integer NOT NULL,
    id_grupo_usuario integer NOT NULL,
    dt_inicio timestamp(0) without time zone NOT NULL,
    dt_fim date,
    dt_atribuicao timestamp(0) without time zone NOT NULL,
    cs_termino smallint NOT NULL,
    cs_excluido boolean NOT NULL,
    tx_motivo character varying(255),
    id_usuario_designador integer NOT NULL
);


ALTER TABLE seguranca.grupo_usuario OWNER TO root;

--
-- TOC entry 4423 (class 1259 OID 2813033)
-- Dependencies: 5501 20
-- Name: usuario; Type: TABLE; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE TABLE usuario (
    id_usuario integer NOT NULL,
    id_usuario_aprovador integer,
    nb_tipo_usuario integer,
    tx_nome character varying(255) NOT NULL,
    tx_login character varying(30) NOT NULL,
    tx_senha character varying(100) NOT NULL,
    cs_status smallint NOT NULL,
    tx_email character varying(150),
    tx_mensagem character varying(255) NOT NULL,
    tx_cpf character varying(11) NOT NULL,
    dt_acesso timestamp(0) without time zone,
    cs_senha_sha2 boolean NOT NULL,
    CONSTRAINT chk_cs_status CHECK ((cs_status = ANY (ARRAY[0, 1, 2, 3, 4, 5, 6, 7])))
);


ALTER TABLE seguranca.usuario OWNER TO root;

--
-- TOC entry 5670 (class 0 OID 0)
-- Dependencies: 4423
-- Name: COLUMN usuario.cs_status; Type: COMMENT; Schema: seguranca; Owner: root
--

COMMENT ON COLUMN usuario.cs_status IS '0 - Cadastro Solicitado.
1 - Ativo.
2 - Inativo.
3 - Bloqueado.
4 - Senha Expirada.
5 - Cadastro Rejeitado.
6 - Cadastro Incorreto.
7 - Senha regerada pelo Administrador.';


--
-- TOC entry 4691 (class 1259 OID 2813813)
-- Dependencies: 20
-- Name: aprovador_und_organizacional; Type: TABLE; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE TABLE aprovador_und_organizacional (
    id_unidade_organizacional integer NOT NULL,
    id_usuario_perfil integer NOT NULL
);


ALTER TABLE seguranca.aprovador_und_organizacional OWNER TO root;

--
-- TOC entry 4692 (class 1259 OID 2813815)
-- Dependencies: 20
-- Name: area; Type: TABLE; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE TABLE area (
    id_area integer NOT NULL,
    tx_area character varying(40) NOT NULL,
    cs_ativo boolean NOT NULL
);


ALTER TABLE seguranca.area OWNER TO root;

--
-- TOC entry 4693 (class 1259 OID 2813817)
-- Dependencies: 4692 20
-- Name: area_id_area_seq; Type: SEQUENCE; Schema: seguranca; Owner: root
--

CREATE SEQUENCE area_id_area_seq
    START WITH 12
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE seguranca.area_id_area_seq OWNER TO root;

--
-- TOC entry 5671 (class 0 OID 0)
-- Dependencies: 4693
-- Name: area_id_area_seq; Type: SEQUENCE OWNED BY; Schema: seguranca; Owner: root
--

ALTER SEQUENCE area_id_area_seq OWNED BY area.id_area;


--
-- TOC entry 4694 (class 1259 OID 2813819)
-- Dependencies: 20
-- Name: grupo; Type: TABLE; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE TABLE grupo (
    id_grupo integer NOT NULL,
    tx_grupo character varying(80) NOT NULL,
    cs_ativo boolean NOT NULL
);


ALTER TABLE seguranca.grupo OWNER TO root;

--
-- TOC entry 4695 (class 1259 OID 2813821)
-- Dependencies: 4694 20
-- Name: grupo_id_grupo_seq; Type: SEQUENCE; Schema: seguranca; Owner: root
--

CREATE SEQUENCE grupo_id_grupo_seq
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE seguranca.grupo_id_grupo_seq OWNER TO root;

--
-- TOC entry 5672 (class 0 OID 0)
-- Dependencies: 4695
-- Name: grupo_id_grupo_seq; Type: SEQUENCE OWNED BY; Schema: seguranca; Owner: root
--

ALTER SEQUENCE grupo_id_grupo_seq OWNED BY grupo.id_grupo;


--
-- TOC entry 4696 (class 1259 OID 2813823)
-- Dependencies: 4422 20
-- Name: grupo_usuario_id_grupo_usuario_seq; Type: SEQUENCE; Schema: seguranca; Owner: root
--

CREATE SEQUENCE grupo_usuario_id_grupo_usuario_seq
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE seguranca.grupo_usuario_id_grupo_usuario_seq OWNER TO root;

--
-- TOC entry 5673 (class 0 OID 0)
-- Dependencies: 4696
-- Name: grupo_usuario_id_grupo_usuario_seq; Type: SEQUENCE OWNED BY; Schema: seguranca; Owner: root
--

ALTER SEQUENCE grupo_usuario_id_grupo_usuario_seq OWNED BY grupo_usuario.id_grupo_usuario;


--
-- TOC entry 4697 (class 1259 OID 2813825)
-- Dependencies: 20
-- Name: papel; Type: TABLE; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE TABLE papel (
    id_papel integer NOT NULL,
    tx_papel character varying(50) NOT NULL,
    cs_ativo boolean NOT NULL,
    cs_administrador boolean NOT NULL,
    cs_paciente boolean
);


ALTER TABLE seguranca.papel OWNER TO root;

--
-- TOC entry 4698 (class 1259 OID 2813827)
-- Dependencies: 4697 20
-- Name: papel_id_papel_seq; Type: SEQUENCE; Schema: seguranca; Owner: root
--

CREATE SEQUENCE papel_id_papel_seq
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE seguranca.papel_id_papel_seq OWNER TO root;

--
-- TOC entry 5674 (class 0 OID 0)
-- Dependencies: 4698
-- Name: papel_id_papel_seq; Type: SEQUENCE OWNED BY; Schema: seguranca; Owner: root
--

ALTER SEQUENCE papel_id_papel_seq OWNED BY papel.id_papel;


--
-- TOC entry 4699 (class 1259 OID 2813829)
-- Dependencies: 20
-- Name: papel_responsabilidade; Type: TABLE; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE TABLE papel_responsabilidade (
    id_papel_responsabilidade integer NOT NULL,
    id_papel integer NOT NULL,
    id_responsabilidade integer NOT NULL,
    dt_inicio timestamp without time zone NOT NULL,
    dt_termino timestamp without time zone
);


ALTER TABLE seguranca.papel_responsabilidade OWNER TO root;

--
-- TOC entry 4700 (class 1259 OID 2813831)
-- Dependencies: 4699 20
-- Name: papel_responsabilidade_id_papel_responsabilidade_seq; Type: SEQUENCE; Schema: seguranca; Owner: root
--

CREATE SEQUENCE papel_responsabilidade_id_papel_responsabilidade_seq
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE seguranca.papel_responsabilidade_id_papel_responsabilidade_seq OWNER TO root;

--
-- TOC entry 5675 (class 0 OID 0)
-- Dependencies: 4700
-- Name: papel_responsabilidade_id_papel_responsabilidade_seq; Type: SEQUENCE OWNED BY; Schema: seguranca; Owner: root
--

ALTER SEQUENCE papel_responsabilidade_id_papel_responsabilidade_seq OWNED BY papel_responsabilidade.id_papel_responsabilidade;


--
-- TOC entry 4701 (class 1259 OID 2813833)
-- Dependencies: 20
-- Name: perfil; Type: TABLE; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE TABLE perfil (
    id_perfil integer NOT NULL,
    tx_perfil character varying(50) NOT NULL,
    tx_modulo_codigo character varying(40) NOT NULL
);


ALTER TABLE seguranca.perfil OWNER TO root;

--
-- TOC entry 4702 (class 1259 OID 2813835)
-- Dependencies: 4701 20
-- Name: perfil_id_perfil_seq; Type: SEQUENCE; Schema: seguranca; Owner: root
--

CREATE SEQUENCE perfil_id_perfil_seq
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE seguranca.perfil_id_perfil_seq OWNER TO root;

--
-- TOC entry 5676 (class 0 OID 0)
-- Dependencies: 4702
-- Name: perfil_id_perfil_seq; Type: SEQUENCE OWNED BY; Schema: seguranca; Owner: root
--

ALTER SEQUENCE perfil_id_perfil_seq OWNED BY perfil.id_perfil;


--
-- TOC entry 4703 (class 1259 OID 2813837)
-- Dependencies: 20
-- Name: perfil_servico; Type: TABLE; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE TABLE perfil_servico (
    id_perfil_servico integer NOT NULL,
    id_perfil integer NOT NULL,
    tx_servico_codigo character varying(80) NOT NULL,
    dt_perfil_servico timestamp without time zone NOT NULL,
    cs_excluido boolean NOT NULL,
    dt_exclusao timestamp without time zone
);


ALTER TABLE seguranca.perfil_servico OWNER TO root;

--
-- TOC entry 4704 (class 1259 OID 2813839)
-- Dependencies: 4703 20
-- Name: perfil_servico_id_perfil_servico_seq; Type: SEQUENCE; Schema: seguranca; Owner: root
--

CREATE SEQUENCE perfil_servico_id_perfil_servico_seq
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE seguranca.perfil_servico_id_perfil_servico_seq OWNER TO root;

--
-- TOC entry 5677 (class 0 OID 0)
-- Dependencies: 4704
-- Name: perfil_servico_id_perfil_servico_seq; Type: SEQUENCE OWNED BY; Schema: seguranca; Owner: root
--

ALTER SEQUENCE perfil_servico_id_perfil_servico_seq OWNED BY perfil_servico.id_perfil_servico;


--
-- TOC entry 4705 (class 1259 OID 2813841)
-- Dependencies: 20
-- Name: responsabilidade; Type: TABLE; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE TABLE responsabilidade (
    id_responsabilidade integer NOT NULL,
    id_area integer NOT NULL,
    tx_responsabilidade character varying(100) NOT NULL,
    cs_ativo boolean NOT NULL,
    tx_descricao character varying(300) NOT NULL,
    cs_area_acesso smallint NOT NULL,
    cs_paciente boolean
);


ALTER TABLE seguranca.responsabilidade OWNER TO root;

--
-- TOC entry 4706 (class 1259 OID 2813843)
-- Dependencies: 4705 20
-- Name: responsabilidade_id_responsabilidade_seq; Type: SEQUENCE; Schema: seguranca; Owner: root
--

CREATE SEQUENCE responsabilidade_id_responsabilidade_seq
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE seguranca.responsabilidade_id_responsabilidade_seq OWNER TO root;

--
-- TOC entry 5678 (class 0 OID 0)
-- Dependencies: 4706
-- Name: responsabilidade_id_responsabilidade_seq; Type: SEQUENCE OWNED BY; Schema: seguranca; Owner: root
--

ALTER SEQUENCE responsabilidade_id_responsabilidade_seq OWNED BY responsabilidade.id_responsabilidade;


--
-- TOC entry 4707 (class 1259 OID 2813845)
-- Dependencies: 20
-- Name: responsabilidade_servico; Type: TABLE; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE TABLE responsabilidade_servico (
    id_responsabilidade_servico integer NOT NULL,
    id_responsabilidade integer NOT NULL,
    tx_pacote_codigo character varying(20) NOT NULL,
    tx_servico_codigo character varying(80) NOT NULL,
    dt_inicio timestamp without time zone NOT NULL,
    dt_fim timestamp without time zone
);


ALTER TABLE seguranca.responsabilidade_servico OWNER TO root;

--
-- TOC entry 4708 (class 1259 OID 2813847)
-- Dependencies: 4707 20
-- Name: responsabilidade_servico_id_responsabilidade_servico_seq; Type: SEQUENCE; Schema: seguranca; Owner: root
--

CREATE SEQUENCE responsabilidade_servico_id_responsabilidade_servico_seq
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE seguranca.responsabilidade_servico_id_responsabilidade_servico_seq OWNER TO root;

--
-- TOC entry 5679 (class 0 OID 0)
-- Dependencies: 4708
-- Name: responsabilidade_servico_id_responsabilidade_servico_seq; Type: SEQUENCE OWNED BY; Schema: seguranca; Owner: root
--

ALTER SEQUENCE responsabilidade_servico_id_responsabilidade_servico_seq OWNED BY responsabilidade_servico.id_responsabilidade_servico;


--
-- TOC entry 4709 (class 1259 OID 2813849)
-- Dependencies: 20
-- Name: usuario_papel; Type: TABLE; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE TABLE usuario_papel (
    id_usuario_papel integer NOT NULL,
    id_usuario integer NOT NULL,
    id_papel integer NOT NULL,
    id_usuario_designador integer NOT NULL,
    dt_inicio timestamp without time zone NOT NULL,
    dt_fim timestamp without time zone,
    cs_termino smallint NOT NULL,
    cs_excluido boolean NOT NULL,
    dt_atribuicao timestamp(0) without time zone NOT NULL,
    tx_motivo character varying(255)
);


ALTER TABLE seguranca.usuario_papel OWNER TO root;

--
-- TOC entry 4710 (class 1259 OID 2813851)
-- Dependencies: 20
-- Name: usuario_responsa_designada; Type: TABLE; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE TABLE usuario_responsa_designada (
    id_usuario_responsa_designada integer NOT NULL,
    id_usuario integer NOT NULL,
    id_usuario_designador integer NOT NULL,
    id_responsabilidade integer NOT NULL,
    dt_inicio timestamp without time zone NOT NULL,
    dt_fim timestamp without time zone,
    cs_termino smallint NOT NULL,
    cs_excluido boolean NOT NULL,
    dt_atribuicao timestamp(0) without time zone NOT NULL,
    tx_motivo character varying(255)
);


ALTER TABLE seguranca.usuario_responsa_designada OWNER TO root;

--
-- TOC entry 4711 (class 1259 OID 2813853)
-- Dependencies: 5179 20
-- Name: servicos_vigentes; Type: VIEW; Schema: seguranca; Owner: root
--

CREATE VIEW servicos_vigentes AS
    SELECT rs.tx_servico_codigo, rd.id_usuario FROM ((responsabilidade_servico rs JOIN responsabilidade r ON ((r.id_responsabilidade = rs.id_responsabilidade))) JOIN usuario_responsa_designada rd ON ((rd.id_responsabilidade = r.id_responsabilidade))) WHERE ((((((to_date((('now'::text)::date)::text, 'yyyy-MM-dd'::text) >= to_date((rd.dt_inicio)::text, 'yyyy-MM-dd'::text)) AND (to_date((('now'::text)::date)::text, 'yyyy-MM-dd'::text) <= to_date((COALESCE(rd.dt_fim, (('now'::text)::date)::timestamp without time zone))::text, 'yyyy-MM-dd'::text))) AND (to_date((('now'::text)::date)::text, 'yyyy-MM-dd'::text) <= to_date((COALESCE(rs.dt_fim, (('now'::text)::date)::timestamp without time zone))::text, 'yyyy-MM-dd'::text))) AND (rd.cs_excluido = false)) AND (rd.id_usuario_designador <> rd.id_usuario)) AND (r.cs_ativo = true)) UNION SELECT rs.tx_servico_codigo, up.id_usuario FROM ((((responsabilidade_servico rs JOIN responsabilidade r ON ((r.id_responsabilidade = rs.id_responsabilidade))) JOIN papel_responsabilidade pr ON ((pr.id_responsabilidade = r.id_responsabilidade))) JOIN usuario_papel up ON ((up.id_papel = pr.id_papel))) JOIN papel p ON ((pr.id_papel = p.id_papel))) WHERE ((((((((to_date((('now'::text)::date)::text, 'yyyy-MM-dd'::text) >= to_date((up.dt_inicio)::text, 'yyyy-MM-dd'::text)) AND (to_date((('now'::text)::date)::text, 'yyyy-MM-dd'::text) <= to_date((COALESCE(up.dt_fim, (('now'::text)::date)::timestamp without time zone))::text, 'yyyy-MM-dd'::text))) AND (up.cs_excluido = false)) AND (up.id_usuario_designador <> up.id_usuario)) AND (p.cs_ativo = true)) AND (to_date((('now'::text)::date)::text, 'yyyy-MM-dd'::text) >= to_date((pr.dt_inicio)::text, 'yyyy-MM-dd'::text))) AND (to_date((('now'::text)::date)::text, 'yyyy-MM-dd'::text) <= to_date((COALESCE(pr.dt_termino, (('now'::text)::date)::timestamp without time zone))::text, 'yyyy-MM-dd'::text))) AND (to_date((('now'::text)::date)::text, 'yyyy-MM-dd'::text) <= to_date((COALESCE(rs.dt_fim, (('now'::text)::date)::timestamp without time zone))::text, 'yyyy-MM-dd'::text)));


ALTER TABLE seguranca.servicos_vigentes OWNER TO root;

--
-- TOC entry 4712 (class 1259 OID 2813857)
-- Dependencies: 20
-- Name: sys_tipo_servico; Type: TABLE; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE TABLE sys_tipo_servico (
    nb_sys_tipo_servico integer NOT NULL,
    tx_sys_tipo_servico character varying(20) NOT NULL
);


ALTER TABLE seguranca.sys_tipo_servico OWNER TO root;

--
-- TOC entry 4713 (class 1259 OID 2813859)
-- Dependencies: 4055 20
-- Name: sys_tipo_und_organizacional_nb_tipo_und_organizacional_seq; Type: SEQUENCE; Schema: seguranca; Owner: root
--

CREATE SEQUENCE sys_tipo_und_organizacional_nb_tipo_und_organizacional_seq
    START WITH 1
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE seguranca.sys_tipo_und_organizacional_nb_tipo_und_organizacional_seq OWNER TO root;

--
-- TOC entry 5680 (class 0 OID 0)
-- Dependencies: 4713
-- Name: sys_tipo_und_organizacional_nb_tipo_und_organizacional_seq; Type: SEQUENCE OWNED BY; Schema: seguranca; Owner: root
--

ALTER SEQUENCE sys_tipo_und_organizacional_nb_tipo_und_organizacional_seq OWNED BY sys_tipo_und_organizacional.nb_tipo_und_organizacional;


--
-- TOC entry 4714 (class 1259 OID 2813861)
-- Dependencies: 20
-- Name: sys_tipo_usuario; Type: TABLE; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE TABLE sys_tipo_usuario (
    nb_tipo_usuario integer NOT NULL,
    tx_tipo_usuario character varying(30) NOT NULL
);


ALTER TABLE seguranca.sys_tipo_usuario OWNER TO root;

--
-- TOC entry 4765 (class 1259 OID 4636675)
-- Dependencies: 20
-- Name: unidade_organizacional_cnes; Type: TABLE; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE TABLE unidade_organizacional_cnes (
    id_unidade_organizacional integer NOT NULL,
    tx_cnes character varying(50),
    tx_razao_social character varying(100),
    tx_nome_fantasia character varying(100),
    tx_cpf_cnpj character varying(14),
    cs_situacao smallint,
    tx_cnpj_mantenedora character varying(14),
    id_cep integer,
    id_pais integer,
    id_estado integer,
    id_cidade integer,
    id_bairro integer,
    tx_logradouro character varying(150),
    tx_numero character varying(10),
    tx_contato character varying(15),
    tx_fax character varying(15),
    tx_email character varying(150),
    cs_esfera_admin smallint,
    cs_natureza smallint,
    cs_retencao smallint,
    cs_atividade_ensino smallint,
    cs_tipo_prestador smallint,
    cs_nivel_hierarquia smallint,
    cs_fluxo_clientela smallint,
    cs_turno_atendimento smallint,
    tx_tipo_atencao character varying(2),
    tx_atividade_atencao character varying(5),
    tx_gestao_municipal_atencao character varying(5),
    tx_gestao_estadual_atencao character varying(5),
    tx_atendimento_ambulatorial character varying(4),
    tx_atendimento_hospitalar character varying(4),
    cs_situacao_cnpj_mantenedora smallint
);


ALTER TABLE seguranca.unidade_organizacional_cnes OWNER TO root;

--
-- TOC entry 4715 (class 1259 OID 2813863)
-- Dependencies: 3844 20
-- Name: unidade_organizacional_id_unidade_organizacional_seq; Type: SEQUENCE; Schema: seguranca; Owner: root
--

CREATE SEQUENCE unidade_organizacional_id_unidade_organizacional_seq
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE seguranca.unidade_organizacional_id_unidade_organizacional_seq OWNER TO root;

--
-- TOC entry 5681 (class 0 OID 0)
-- Dependencies: 4715
-- Name: unidade_organizacional_id_unidade_organizacional_seq; Type: SEQUENCE OWNED BY; Schema: seguranca; Owner: root
--

ALTER SEQUENCE unidade_organizacional_id_unidade_organizacional_seq OWNED BY unidade_organizacional.id_unidade_organizacional;


--
-- TOC entry 4716 (class 1259 OID 2813865)
-- Dependencies: 20
-- Name: usuario_acesso; Type: TABLE; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE TABLE usuario_acesso (
    id_usuario_acesso integer NOT NULL,
    id_responsabilidade_servico integer NOT NULL,
    id_usuario_responsa_designada integer,
    id_usuario_papel integer,
    dt_inicio timestamp without time zone NOT NULL,
    dt_fim timestamp without time zone
);


ALTER TABLE seguranca.usuario_acesso OWNER TO root;

--
-- TOC entry 4717 (class 1259 OID 2813867)
-- Dependencies: 4716 20
-- Name: usuario_acesso_id_usuario_acesso_seq; Type: SEQUENCE; Schema: seguranca; Owner: root
--

CREATE SEQUENCE usuario_acesso_id_usuario_acesso_seq
    START WITH 1
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE seguranca.usuario_acesso_id_usuario_acesso_seq OWNER TO root;

--
-- TOC entry 5682 (class 0 OID 0)
-- Dependencies: 4717
-- Name: usuario_acesso_id_usuario_acesso_seq; Type: SEQUENCE OWNED BY; Schema: seguranca; Owner: root
--

ALTER SEQUENCE usuario_acesso_id_usuario_acesso_seq OWNED BY usuario_acesso.id_usuario_acesso;


--
-- TOC entry 4718 (class 1259 OID 2813869)
-- Dependencies: 4423 20
-- Name: usuario_id_usuario_seq; Type: SEQUENCE; Schema: seguranca; Owner: root
--

CREATE SEQUENCE usuario_id_usuario_seq
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE seguranca.usuario_id_usuario_seq OWNER TO root;

--
-- TOC entry 5683 (class 0 OID 0)
-- Dependencies: 4718
-- Name: usuario_id_usuario_seq; Type: SEQUENCE OWNED BY; Schema: seguranca; Owner: root
--

ALTER SEQUENCE usuario_id_usuario_seq OWNED BY usuario.id_usuario;


--
-- TOC entry 4719 (class 1259 OID 2813871)
-- Dependencies: 4709 20
-- Name: usuario_papel_id_usuario_papel_seq; Type: SEQUENCE; Schema: seguranca; Owner: root
--

CREATE SEQUENCE usuario_papel_id_usuario_papel_seq
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE seguranca.usuario_papel_id_usuario_papel_seq OWNER TO root;

--
-- TOC entry 5684 (class 0 OID 0)
-- Dependencies: 4719
-- Name: usuario_papel_id_usuario_papel_seq; Type: SEQUENCE OWNED BY; Schema: seguranca; Owner: root
--

ALTER SEQUENCE usuario_papel_id_usuario_papel_seq OWNED BY usuario_papel.id_usuario_papel;


--
-- TOC entry 4720 (class 1259 OID 2813873)
-- Dependencies: 20
-- Name: usuario_pentaho; Type: TABLE; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE TABLE usuario_pentaho (
    id_usuario_pentaho integer NOT NULL,
    id_papel integer NOT NULL,
    tx_usuario character varying(50) NOT NULL,
    tx_senha character varying(20) NOT NULL
);


ALTER TABLE seguranca.usuario_pentaho OWNER TO root;

--
-- TOC entry 4721 (class 1259 OID 2813875)
-- Dependencies: 4720 20
-- Name: usuario_pentaho_id_usuario_pentaho_seq; Type: SEQUENCE; Schema: seguranca; Owner: root
--

CREATE SEQUENCE usuario_pentaho_id_usuario_pentaho_seq
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE seguranca.usuario_pentaho_id_usuario_pentaho_seq OWNER TO root;

--
-- TOC entry 5685 (class 0 OID 0)
-- Dependencies: 4721
-- Name: usuario_pentaho_id_usuario_pentaho_seq; Type: SEQUENCE OWNED BY; Schema: seguranca; Owner: root
--

ALTER SEQUENCE usuario_pentaho_id_usuario_pentaho_seq OWNED BY usuario_pentaho.id_usuario_pentaho;


--
-- TOC entry 4722 (class 1259 OID 2813877)
-- Dependencies: 20
-- Name: usuario_perfil; Type: TABLE; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE TABLE usuario_perfil (
    id_usuario_perfil integer NOT NULL,
    id_usuario integer NOT NULL,
    id_perfil integer NOT NULL,
    dt_inicio timestamp without time zone NOT NULL,
    dt_fim timestamp without time zone,
    id_usuario_acesso integer NOT NULL,
    id_usuario_negacao integer
);


ALTER TABLE seguranca.usuario_perfil OWNER TO root;

--
-- TOC entry 4723 (class 1259 OID 2813879)
-- Dependencies: 4722 20
-- Name: usuario_perfil_id_usuario_perfil_seq; Type: SEQUENCE; Schema: seguranca; Owner: root
--

CREATE SEQUENCE usuario_perfil_id_usuario_perfil_seq
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE seguranca.usuario_perfil_id_usuario_perfil_seq OWNER TO root;

--
-- TOC entry 5686 (class 0 OID 0)
-- Dependencies: 4723
-- Name: usuario_perfil_id_usuario_perfil_seq; Type: SEQUENCE OWNED BY; Schema: seguranca; Owner: root
--

ALTER SEQUENCE usuario_perfil_id_usuario_perfil_seq OWNED BY usuario_perfil.id_usuario_perfil;


--
-- TOC entry 4724 (class 1259 OID 2813881)
-- Dependencies: 4710 20
-- Name: usuario_responsa_designada_id_usuario_responsa_designada_seq; Type: SEQUENCE; Schema: seguranca; Owner: root
--

CREATE SEQUENCE usuario_responsa_designada_id_usuario_responsa_designada_seq
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE seguranca.usuario_responsa_designada_id_usuario_responsa_designada_seq OWNER TO root;

--
-- TOC entry 5687 (class 0 OID 0)
-- Dependencies: 4724
-- Name: usuario_responsa_designada_id_usuario_responsa_designada_seq; Type: SEQUENCE OWNED BY; Schema: seguranca; Owner: root
--

ALTER SEQUENCE usuario_responsa_designada_id_usuario_responsa_designada_seq OWNED BY usuario_responsa_designada.id_usuario_responsa_designada;


--
-- TOC entry 4725 (class 1259 OID 2813883)
-- Dependencies: 20
-- Name: usuario_senha; Type: TABLE; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE TABLE usuario_senha (
    id_senha integer NOT NULL,
    id_usuario integer NOT NULL,
    tx_senha character varying(100) NOT NULL,
    dt_senha date NOT NULL
);


ALTER TABLE seguranca.usuario_senha OWNER TO root;

--
-- TOC entry 4726 (class 1259 OID 2813885)
-- Dependencies: 4725 20
-- Name: usuario_senha_id_senha_seq; Type: SEQUENCE; Schema: seguranca; Owner: root
--

CREATE SEQUENCE usuario_senha_id_senha_seq
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE seguranca.usuario_senha_id_senha_seq OWNER TO root;

--
-- TOC entry 5688 (class 0 OID 0)
-- Dependencies: 4726
-- Name: usuario_senha_id_senha_seq; Type: SEQUENCE OWNED BY; Schema: seguranca; Owner: root
--

ALTER SEQUENCE usuario_senha_id_senha_seq OWNED BY usuario_senha.id_senha;


--
-- TOC entry 4727 (class 1259 OID 2813887)
-- Dependencies: 20
-- Name: usuario_servico_personalizado; Type: TABLE; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE TABLE usuario_servico_personalizado (
    id_usuario integer NOT NULL,
    nb_sys_tipo_servico integer NOT NULL,
    nb_ordem integer NOT NULL,
    tx_servico_codigo character varying(80) NOT NULL,
    id_servico_personalizado integer NOT NULL,
    dt_inicio timestamp(0) without time zone NOT NULL,
    dt_fim timestamp(0) without time zone
);


ALTER TABLE seguranca.usuario_servico_personalizado OWNER TO root;

--
-- TOC entry 4728 (class 1259 OID 2813889)
-- Dependencies: 4727 20
-- Name: usuario_servico_personalizado_id_servico_personalizado_seq; Type: SEQUENCE; Schema: seguranca; Owner: root
--

CREATE SEQUENCE usuario_servico_personalizado_id_servico_personalizado_seq
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE seguranca.usuario_servico_personalizado_id_servico_personalizado_seq OWNER TO root;

--
-- TOC entry 5689 (class 0 OID 0)
-- Dependencies: 4728
-- Name: usuario_servico_personalizado_id_servico_personalizado_seq; Type: SEQUENCE OWNED BY; Schema: seguranca; Owner: root
--

ALTER SEQUENCE usuario_servico_personalizado_id_servico_personalizado_seq OWNED BY usuario_servico_personalizado.id_servico_personalizado;


--
-- TOC entry 4729 (class 1259 OID 2813891)
-- Dependencies: 5518 20
-- Name: usuario_status; Type: TABLE; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE TABLE usuario_status (
    id_usuario_status integer NOT NULL,
    id_usuario integer NOT NULL,
    dt_usuario_status timestamp without time zone NOT NULL,
    tx_justificativa character varying(255) NOT NULL,
    cs_status smallint NOT NULL,
    CONSTRAINT chk_cs_status CHECK ((cs_status = ANY (ARRAY[0, 1, 2, 3, 4, 5, 6, 7])))
);


ALTER TABLE seguranca.usuario_status OWNER TO root;

--
-- TOC entry 5690 (class 0 OID 0)
-- Dependencies: 4729
-- Name: COLUMN usuario_status.cs_status; Type: COMMENT; Schema: seguranca; Owner: root
--

COMMENT ON COLUMN usuario_status.cs_status IS '0 - Cadastro Solicitado.
1 - Ativo.
2 - Inativo.
3 - Bloqueado.
4 - Senha Expirada.
5 - Cadastro Rejeitado.
6 - Cadastro Incorreto.
7 - Senha regerada pelo Administrador.';


--
-- TOC entry 4730 (class 1259 OID 2813894)
-- Dependencies: 4729 20
-- Name: usuario_status_id_usuario_status_seq; Type: SEQUENCE; Schema: seguranca; Owner: root
--

CREATE SEQUENCE usuario_status_id_usuario_status_seq
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE seguranca.usuario_status_id_usuario_status_seq OWNER TO root;

--
-- TOC entry 5691 (class 0 OID 0)
-- Dependencies: 4730
-- Name: usuario_status_id_usuario_status_seq; Type: SEQUENCE OWNED BY; Schema: seguranca; Owner: root
--

ALTER SEQUENCE usuario_status_id_usuario_status_seq OWNED BY usuario_status.id_usuario_status;


--
-- TOC entry 4731 (class 1259 OID 2813896)
-- Dependencies: 20
-- Name: versao_sistema; Type: TABLE; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE TABLE versao_sistema (
    cs_modulo smallint NOT NULL,
    nb_versao character varying(15) NOT NULL
);


ALTER TABLE seguranca.versao_sistema OWNER TO root;

--
-- TOC entry 4732 (class 1259 OID 2813898)
-- Dependencies: 5180 20
-- Name: vw_unidade_organizacional_atend; Type: VIEW; Schema: seguranca; Owner: root
--

CREATE VIEW vw_unidade_organizacional_atend AS
    SELECT 0 AS cs_tipo, NULL::"unknown" AS id_usuario, u.id_unidade_organizacional, u.id_unidade_organizacional_pai, u.nb_tipo_und_organizacional, u.id_unidade_organizacional_raiz, u.tx_unidade_organizacional, u.tx_codigo, u.cs_ativo, u.cs_permitir_atend_ambulatorial, u.cs_uti FROM unidade_organizacional u WHERE (u.id_unidade_organizacional = 1) UNION SELECT 1 AS cs_tipo, use1.id_usuario, uo.id_unidade_organizacional, uo.id_unidade_organizacional_pai, uo.nb_tipo_und_organizacional, uo.id_unidade_organizacional_raiz, uo.tx_unidade_organizacional, uo.tx_codigo, uo.cs_ativo, uo.cs_permitir_atend_ambulatorial, uo.cs_uti FROM (unidade_organizacional uo JOIN usuario_und_organizacional use1 ON ((use1.id_unidade_organizacional = uo.id_unidade_organizacional))) WHERE (((uo.id_unidade_organizacional <> 1) AND (uo.nb_tipo_und_organizacional = ANY (ARRAY[0, 1, 2, 3, 5, 6]))) AND uo.cs_ativo) ORDER BY 1, 7;


ALTER TABLE seguranca.vw_unidade_organizacional_atend OWNER TO root;

--
-- TOC entry 4733 (class 1259 OID 2813902)
-- Dependencies: 5181 20
-- Name: vw_usuario; Type: VIEW; Schema: seguranca; Owner: root
--

CREATE VIEW vw_usuario AS
    SELECT u.id_usuario, u.id_usuario_aprovador, u.nb_tipo_usuario, sys.tx_tipo_usuario, u.tx_nome, u.tx_login, u.tx_senha, u.cs_status, u.tx_email, u.dt_acesso FROM (usuario u JOIN sys_tipo_usuario sys ON ((sys.nb_tipo_usuario = u.nb_tipo_usuario)));


ALTER TABLE seguranca.vw_usuario OWNER TO root;

--
-- TOC entry 5502 (class 2604 OID 2814172)
-- Dependencies: 4693 4692
-- Name: id_area; Type: DEFAULT; Schema: seguranca; Owner: root
--

ALTER TABLE area ALTER COLUMN id_area SET DEFAULT nextval('area_id_area_seq'::regclass);


--
-- TOC entry 5503 (class 2604 OID 2814173)
-- Dependencies: 4695 4694
-- Name: id_grupo; Type: DEFAULT; Schema: seguranca; Owner: root
--

ALTER TABLE grupo ALTER COLUMN id_grupo SET DEFAULT nextval('grupo_id_grupo_seq'::regclass);


--
-- TOC entry 5499 (class 2604 OID 2814174)
-- Dependencies: 4696 4422
-- Name: id_grupo_usuario; Type: DEFAULT; Schema: seguranca; Owner: root
--

ALTER TABLE grupo_usuario ALTER COLUMN id_grupo_usuario SET DEFAULT nextval('grupo_usuario_id_grupo_usuario_seq'::regclass);


--
-- TOC entry 5504 (class 2604 OID 2814175)
-- Dependencies: 4698 4697
-- Name: id_papel; Type: DEFAULT; Schema: seguranca; Owner: root
--

ALTER TABLE papel ALTER COLUMN id_papel SET DEFAULT nextval('papel_id_papel_seq'::regclass);


--
-- TOC entry 5505 (class 2604 OID 2814176)
-- Dependencies: 4700 4699
-- Name: id_papel_responsabilidade; Type: DEFAULT; Schema: seguranca; Owner: root
--

ALTER TABLE papel_responsabilidade ALTER COLUMN id_papel_responsabilidade SET DEFAULT nextval('papel_responsabilidade_id_papel_responsabilidade_seq'::regclass);


--
-- TOC entry 5506 (class 2604 OID 2814177)
-- Dependencies: 4702 4701
-- Name: id_perfil; Type: DEFAULT; Schema: seguranca; Owner: root
--

ALTER TABLE perfil ALTER COLUMN id_perfil SET DEFAULT nextval('perfil_id_perfil_seq'::regclass);


--
-- TOC entry 5507 (class 2604 OID 2814178)
-- Dependencies: 4704 4703
-- Name: id_perfil_servico; Type: DEFAULT; Schema: seguranca; Owner: root
--

ALTER TABLE perfil_servico ALTER COLUMN id_perfil_servico SET DEFAULT nextval('perfil_servico_id_perfil_servico_seq'::regclass);


--
-- TOC entry 5508 (class 2604 OID 2814179)
-- Dependencies: 4706 4705
-- Name: id_responsabilidade; Type: DEFAULT; Schema: seguranca; Owner: root
--

ALTER TABLE responsabilidade ALTER COLUMN id_responsabilidade SET DEFAULT nextval('responsabilidade_id_responsabilidade_seq'::regclass);


--
-- TOC entry 5509 (class 2604 OID 2814180)
-- Dependencies: 4708 4707
-- Name: id_responsabilidade_servico; Type: DEFAULT; Schema: seguranca; Owner: root
--

ALTER TABLE responsabilidade_servico ALTER COLUMN id_responsabilidade_servico SET DEFAULT nextval('responsabilidade_servico_id_responsabilidade_servico_seq'::regclass);


--
-- TOC entry 5498 (class 2604 OID 2814181)
-- Dependencies: 4713 4055
-- Name: nb_tipo_und_organizacional; Type: DEFAULT; Schema: seguranca; Owner: root
--

ALTER TABLE sys_tipo_und_organizacional ALTER COLUMN nb_tipo_und_organizacional SET DEFAULT nextval('sys_tipo_und_organizacional_nb_tipo_und_organizacional_seq'::regclass);


--
-- TOC entry 5497 (class 2604 OID 2814182)
-- Dependencies: 4715 3844
-- Name: id_unidade_organizacional; Type: DEFAULT; Schema: seguranca; Owner: root
--

ALTER TABLE unidade_organizacional ALTER COLUMN id_unidade_organizacional SET DEFAULT nextval('unidade_organizacional_id_unidade_organizacional_seq'::regclass);


--
-- TOC entry 5500 (class 2604 OID 2814183)
-- Dependencies: 4718 4423
-- Name: id_usuario; Type: DEFAULT; Schema: seguranca; Owner: root
--

ALTER TABLE usuario ALTER COLUMN id_usuario SET DEFAULT nextval('usuario_id_usuario_seq'::regclass);


--
-- TOC entry 5512 (class 2604 OID 2814184)
-- Dependencies: 4717 4716
-- Name: id_usuario_acesso; Type: DEFAULT; Schema: seguranca; Owner: root
--

ALTER TABLE usuario_acesso ALTER COLUMN id_usuario_acesso SET DEFAULT nextval('usuario_acesso_id_usuario_acesso_seq'::regclass);


--
-- TOC entry 5510 (class 2604 OID 2814185)
-- Dependencies: 4719 4709
-- Name: id_usuario_papel; Type: DEFAULT; Schema: seguranca; Owner: root
--

ALTER TABLE usuario_papel ALTER COLUMN id_usuario_papel SET DEFAULT nextval('usuario_papel_id_usuario_papel_seq'::regclass);


--
-- TOC entry 5513 (class 2604 OID 2814186)
-- Dependencies: 4721 4720
-- Name: id_usuario_pentaho; Type: DEFAULT; Schema: seguranca; Owner: root
--

ALTER TABLE usuario_pentaho ALTER COLUMN id_usuario_pentaho SET DEFAULT nextval('usuario_pentaho_id_usuario_pentaho_seq'::regclass);


--
-- TOC entry 5514 (class 2604 OID 2814187)
-- Dependencies: 4723 4722
-- Name: id_usuario_perfil; Type: DEFAULT; Schema: seguranca; Owner: root
--

ALTER TABLE usuario_perfil ALTER COLUMN id_usuario_perfil SET DEFAULT nextval('usuario_perfil_id_usuario_perfil_seq'::regclass);


--
-- TOC entry 5511 (class 2604 OID 2814188)
-- Dependencies: 4724 4710
-- Name: id_usuario_responsa_designada; Type: DEFAULT; Schema: seguranca; Owner: root
--

ALTER TABLE usuario_responsa_designada ALTER COLUMN id_usuario_responsa_designada SET DEFAULT nextval('usuario_responsa_designada_id_usuario_responsa_designada_seq'::regclass);


--
-- TOC entry 5515 (class 2604 OID 2814189)
-- Dependencies: 4726 4725
-- Name: id_senha; Type: DEFAULT; Schema: seguranca; Owner: root
--

ALTER TABLE usuario_senha ALTER COLUMN id_senha SET DEFAULT nextval('usuario_senha_id_senha_seq'::regclass);


--
-- TOC entry 5516 (class 2604 OID 2814190)
-- Dependencies: 4728 4727
-- Name: id_servico_personalizado; Type: DEFAULT; Schema: seguranca; Owner: root
--

ALTER TABLE usuario_servico_personalizado ALTER COLUMN id_servico_personalizado SET DEFAULT nextval('usuario_servico_personalizado_id_servico_personalizado_seq'::regclass);


--
-- TOC entry 5517 (class 2604 OID 2814191)
-- Dependencies: 4730 4729
-- Name: id_usuario_status; Type: DEFAULT; Schema: seguranca; Owner: root
--

ALTER TABLE usuario_status ALTER COLUMN id_usuario_status SET DEFAULT nextval('usuario_status_id_usuario_status_seq'::regclass);


--
-- TOC entry 5543 (class 2606 OID 4630381)
-- Dependencies: 4691 4691 4691
-- Name: aprovador_und_organizacional_pkey; Type: CONSTRAINT; Schema: seguranca; Owner: root; Tablespace: 
--

ALTER TABLE ONLY aprovador_und_organizacional
    ADD CONSTRAINT aprovador_und_organizacional_pkey PRIMARY KEY (id_unidade_organizacional, id_usuario_perfil);


--
-- TOC entry 5547 (class 2606 OID 4630383)
-- Dependencies: 4692 4692
-- Name: area_pkey; Type: CONSTRAINT; Schema: seguranca; Owner: root; Tablespace: 
--

ALTER TABLE ONLY area
    ADD CONSTRAINT area_pkey PRIMARY KEY (id_area);


--
-- TOC entry 5550 (class 2606 OID 4630385)
-- Dependencies: 4694 4694
-- Name: grupo_pk; Type: CONSTRAINT; Schema: seguranca; Owner: root; Tablespace: 
--

ALTER TABLE ONLY grupo
    ADD CONSTRAINT grupo_pk PRIMARY KEY (id_grupo);


--
-- TOC entry 5534 (class 2606 OID 4630387)
-- Dependencies: 4422 4422
-- Name: grupo_usuario_pkey; Type: CONSTRAINT; Schema: seguranca; Owner: root; Tablespace: 
--

ALTER TABLE ONLY grupo_usuario
    ADD CONSTRAINT grupo_usuario_pkey PRIMARY KEY (id_grupo_usuario);


--
-- TOC entry 5553 (class 2606 OID 4630389)
-- Dependencies: 4697 4697
-- Name: papel_pk; Type: CONSTRAINT; Schema: seguranca; Owner: root; Tablespace: 
--

ALTER TABLE ONLY papel
    ADD CONSTRAINT papel_pk PRIMARY KEY (id_papel);


--
-- TOC entry 5558 (class 2606 OID 4630391)
-- Dependencies: 4699 4699
-- Name: papel_responsabilidade_pk; Type: CONSTRAINT; Schema: seguranca; Owner: root; Tablespace: 
--

ALTER TABLE ONLY papel_responsabilidade
    ADD CONSTRAINT papel_responsabilidade_pk PRIMARY KEY (id_papel_responsabilidade);


--
-- TOC entry 5561 (class 2606 OID 4630393)
-- Dependencies: 4701 4701
-- Name: perfil_pkey; Type: CONSTRAINT; Schema: seguranca; Owner: root; Tablespace: 
--

ALTER TABLE ONLY perfil
    ADD CONSTRAINT perfil_pkey PRIMARY KEY (id_perfil);


--
-- TOC entry 5564 (class 2606 OID 4630395)
-- Dependencies: 4703 4703
-- Name: perfil_servico_pkey; Type: CONSTRAINT; Schema: seguranca; Owner: root; Tablespace: 
--

ALTER TABLE ONLY perfil_servico
    ADD CONSTRAINT perfil_servico_pkey PRIMARY KEY (id_perfil_servico);


--
-- TOC entry 5568 (class 2606 OID 4630397)
-- Dependencies: 4705 4705
-- Name: responsabilidade_pkey; Type: CONSTRAINT; Schema: seguranca; Owner: root; Tablespace: 
--

ALTER TABLE ONLY responsabilidade
    ADD CONSTRAINT responsabilidade_pkey PRIMARY KEY (id_responsabilidade);


--
-- TOC entry 5571 (class 2606 OID 4630399)
-- Dependencies: 4707 4707
-- Name: responsabilidade_servico_pkey; Type: CONSTRAINT; Schema: seguranca; Owner: root; Tablespace: 
--

ALTER TABLE ONLY responsabilidade_servico
    ADD CONSTRAINT responsabilidade_servico_pkey PRIMARY KEY (id_responsabilidade_servico);


--
-- TOC entry 5584 (class 2606 OID 4630401)
-- Dependencies: 4712 4712
-- Name: sys_tipo_servico_pkey; Type: CONSTRAINT; Schema: seguranca; Owner: root; Tablespace: 
--

ALTER TABLE ONLY sys_tipo_servico
    ADD CONSTRAINT sys_tipo_servico_pkey PRIMARY KEY (nb_sys_tipo_servico);


--
-- TOC entry 5532 (class 2606 OID 4630403)
-- Dependencies: 4055 4055
-- Name: sys_tipo_und_organizacional_pkey; Type: CONSTRAINT; Schema: seguranca; Owner: root; Tablespace: 
--

ALTER TABLE ONLY sys_tipo_und_organizacional
    ADD CONSTRAINT sys_tipo_und_organizacional_pkey PRIMARY KEY (nb_tipo_und_organizacional);


--
-- TOC entry 5587 (class 2606 OID 4630405)
-- Dependencies: 4714 4714
-- Name: sys_tipo_usuario_pkey; Type: CONSTRAINT; Schema: seguranca; Owner: root; Tablespace: 
--

ALTER TABLE ONLY sys_tipo_usuario
    ADD CONSTRAINT sys_tipo_usuario_pkey PRIMARY KEY (nb_tipo_usuario);


--
-- TOC entry 5624 (class 2606 OID 4636678)
-- Dependencies: 4765 4765
-- Name: unidade_organizacional_cnes_pkey; Type: CONSTRAINT; Schema: seguranca; Owner: root; Tablespace: 
--

ALTER TABLE ONLY unidade_organizacional_cnes
    ADD CONSTRAINT unidade_organizacional_cnes_pkey PRIMARY KEY (id_unidade_organizacional);


--
-- TOC entry 5525 (class 2606 OID 4630407)
-- Dependencies: 3844 3844
-- Name: unidade_organizacional_pkey; Type: CONSTRAINT; Schema: seguranca; Owner: root; Tablespace: 
--

ALTER TABLE ONLY unidade_organizacional
    ADD CONSTRAINT unidade_organizacional_pkey PRIMARY KEY (id_unidade_organizacional);


--
-- TOC entry 5592 (class 2606 OID 4630409)
-- Dependencies: 4716 4716
-- Name: usuario_acesso_pk; Type: CONSTRAINT; Schema: seguranca; Owner: root; Tablespace: 
--

ALTER TABLE ONLY usuario_acesso
    ADD CONSTRAINT usuario_acesso_pk PRIMARY KEY (id_usuario_acesso);


--
-- TOC entry 5576 (class 2606 OID 4630411)
-- Dependencies: 4709 4709
-- Name: usuario_papel_pk; Type: CONSTRAINT; Schema: seguranca; Owner: root; Tablespace: 
--

ALTER TABLE ONLY usuario_papel
    ADD CONSTRAINT usuario_papel_pk PRIMARY KEY (id_usuario_papel);


--
-- TOC entry 5595 (class 2606 OID 4630413)
-- Dependencies: 4720 4720
-- Name: usuario_pentaho_pkey; Type: CONSTRAINT; Schema: seguranca; Owner: root; Tablespace: 
--

ALTER TABLE ONLY usuario_pentaho
    ADD CONSTRAINT usuario_pentaho_pkey PRIMARY KEY (id_usuario_pentaho);


--
-- TOC entry 5602 (class 2606 OID 4630415)
-- Dependencies: 4722 4722
-- Name: usuario_perfil_pkey; Type: CONSTRAINT; Schema: seguranca; Owner: root; Tablespace: 
--

ALTER TABLE ONLY usuario_perfil
    ADD CONSTRAINT usuario_perfil_pkey PRIMARY KEY (id_usuario_perfil);


--
-- TOC entry 5541 (class 2606 OID 4630417)
-- Dependencies: 4423 4423
-- Name: usuario_pkey; Type: CONSTRAINT; Schema: seguranca; Owner: root; Tablespace: 
--

ALTER TABLE ONLY usuario
    ADD CONSTRAINT usuario_pkey PRIMARY KEY (id_usuario);


--
-- TOC entry 5581 (class 2606 OID 4630419)
-- Dependencies: 4710 4710
-- Name: usuario_responsa_designada_pk; Type: CONSTRAINT; Schema: seguranca; Owner: root; Tablespace: 
--

ALTER TABLE ONLY usuario_responsa_designada
    ADD CONSTRAINT usuario_responsa_designada_pk PRIMARY KEY (id_usuario_responsa_designada);


--
-- TOC entry 5605 (class 2606 OID 4630421)
-- Dependencies: 4725 4725
-- Name: usuario_senha_pkey; Type: CONSTRAINT; Schema: seguranca; Owner: root; Tablespace: 
--

ALTER TABLE ONLY usuario_senha
    ADD CONSTRAINT usuario_senha_pkey PRIMARY KEY (id_senha);


--
-- TOC entry 5608 (class 2606 OID 4630423)
-- Dependencies: 4727 4727
-- Name: usuario_servico_personalizado_pkey; Type: CONSTRAINT; Schema: seguranca; Owner: root; Tablespace: 
--

ALTER TABLE ONLY usuario_servico_personalizado
    ADD CONSTRAINT usuario_servico_personalizado_pkey PRIMARY KEY (id_servico_personalizado);


--
-- TOC entry 5611 (class 2606 OID 4630425)
-- Dependencies: 4729 4729
-- Name: usuario_status_pkey; Type: CONSTRAINT; Schema: seguranca; Owner: root; Tablespace: 
--

ALTER TABLE ONLY usuario_status
    ADD CONSTRAINT usuario_status_pkey PRIMARY KEY (id_usuario_status);


--
-- TOC entry 5529 (class 2606 OID 4630427)
-- Dependencies: 3845 3845 3845
-- Name: usuario_und_organizacional_pkey; Type: CONSTRAINT; Schema: seguranca; Owner: root; Tablespace: 
--

ALTER TABLE ONLY usuario_und_organizacional
    ADD CONSTRAINT usuario_und_organizacional_pkey PRIMARY KEY (id_usuario, id_unidade_organizacional);


--
-- TOC entry 5613 (class 2606 OID 4630429)
-- Dependencies: 4731 4731
-- Name: versao_sistema_pkey; Type: CONSTRAINT; Schema: seguranca; Owner: root; Tablespace: 
--

ALTER TABLE ONLY versao_sistema
    ADD CONSTRAINT versao_sistema_pkey PRIMARY KEY (cs_modulo);


--
-- TOC entry 5559 (class 1259 OID 4631449)
-- Dependencies: 4701 4701
-- Name: ak_grupo; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE UNIQUE INDEX ak_grupo ON perfil USING btree (lower(to_ascii((tx_perfil)::text)), lower(to_ascii((tx_modulo_codigo)::text)));


--
-- TOC entry 5551 (class 1259 OID 4631450)
-- Dependencies: 4697
-- Name: ak_papel; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE UNIQUE INDEX ak_papel ON papel USING btree (lower(to_ascii((tx_papel)::text)));


--
-- TOC entry 5554 (class 1259 OID 4631451)
-- Dependencies: 4699 4699
-- Name: ak_papel_responsabilidade; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE UNIQUE INDEX ak_papel_responsabilidade ON papel_responsabilidade USING btree (id_responsabilidade, id_papel);


--
-- TOC entry 5565 (class 1259 OID 4631452)
-- Dependencies: 4705 4705
-- Name: ak_responsabilidade; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE UNIQUE INDEX ak_responsabilidade ON responsabilidade USING btree (id_area, lower(to_ascii((tx_responsabilidade)::text)));


--
-- TOC entry 5582 (class 1259 OID 4631453)
-- Dependencies: 4712
-- Name: ak_sys_tipo_servico; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE UNIQUE INDEX ak_sys_tipo_servico ON sys_tipo_servico USING btree (lower(to_ascii((tx_sys_tipo_servico)::text)));


--
-- TOC entry 5530 (class 1259 OID 4631454)
-- Dependencies: 4055
-- Name: ak_tipo_unidade_organizacional; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE UNIQUE INDEX ak_tipo_unidade_organizacional ON sys_tipo_und_organizacional USING btree (lower(to_ascii((tx_tipo_unidade_organizacional)::text)));


--
-- TOC entry 5585 (class 1259 OID 4631455)
-- Dependencies: 4714
-- Name: ak_tipo_usuario; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE UNIQUE INDEX ak_tipo_usuario ON sys_tipo_usuario USING btree (lower(to_ascii((tx_tipo_usuario)::text)));


--
-- TOC entry 5548 (class 1259 OID 4631456)
-- Dependencies: 4694
-- Name: ak_tx_grupo; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX ak_tx_grupo ON grupo USING btree (lower(to_ascii((tx_grupo)::text)));


--
-- TOC entry 5519 (class 1259 OID 4631457)
-- Dependencies: 3844 3844
-- Name: ak_und_organizacional_codigo; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE UNIQUE INDEX ak_und_organizacional_codigo ON unidade_organizacional USING btree (id_unidade_organizacional_raiz, lower(to_ascii((tx_codigo)::text)));


--
-- TOC entry 5520 (class 1259 OID 4631458)
-- Dependencies: 3844 3844
-- Name: ak_und_organizacional_nome; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE UNIQUE INDEX ak_und_organizacional_nome ON unidade_organizacional USING btree (id_unidade_organizacional_raiz, lower(to_ascii((tx_unidade_organizacional)::text)));


--
-- TOC entry 5537 (class 1259 OID 4631459)
-- Dependencies: 4423
-- Name: ak_usuario_email; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE UNIQUE INDEX ak_usuario_email ON usuario USING btree (lower(to_ascii((tx_email)::text)));


--
-- TOC entry 5538 (class 1259 OID 4631460)
-- Dependencies: 4423
-- Name: ak_usuario_login; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE UNIQUE INDEX ak_usuario_login ON usuario USING btree (lower(to_ascii((tx_login)::text)));


--
-- TOC entry 5596 (class 1259 OID 4631461)
-- Dependencies: 4722 4722 4722
-- Name: ak_usuario_perfil; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE UNIQUE INDEX ak_usuario_perfil ON usuario_perfil USING btree (id_usuario, id_perfil, dt_inicio);


--
-- TOC entry 5544 (class 1259 OID 4631462)
-- Dependencies: 4691
-- Name: idx_fk_aprovador_und_organizacional; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_aprovador_und_organizacional ON aprovador_und_organizacional USING btree (id_unidade_organizacional);


--
-- TOC entry 5545 (class 1259 OID 4631463)
-- Dependencies: 4691
-- Name: idx_fk_aprovador_und_usuarioperfil; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_aprovador_und_usuarioperfil ON aprovador_und_organizacional USING btree (id_usuario_perfil);


--
-- TOC entry 5535 (class 1259 OID 4631464)
-- Dependencies: 4422
-- Name: idx_fk_grup_usuario_id_usuario; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_grup_usuario_id_usuario ON grupo_usuario USING btree (id_usuario);


--
-- TOC entry 5536 (class 1259 OID 4631465)
-- Dependencies: 4422
-- Name: idx_fk_grupo_usuario_id_grupo; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_grupo_usuario_id_grupo ON grupo_usuario USING btree (id_grupo);


--
-- TOC entry 5521 (class 1259 OID 4636632)
-- Dependencies: 3844
-- Name: idx_fk_horario_entrega_exame; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_horario_entrega_exame ON unidade_organizacional USING btree (id_unidade_organizacional);


--
-- TOC entry 5555 (class 1259 OID 4631466)
-- Dependencies: 4699
-- Name: idx_fk_papel_id_responsabilida; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_papel_id_responsabilida ON papel_responsabilidade USING btree (id_responsabilidade);


--
-- TOC entry 5556 (class 1259 OID 4631467)
-- Dependencies: 4699
-- Name: idx_fk_papel_resp_id_papel; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_papel_resp_id_papel ON papel_responsabilidade USING btree (id_papel);


--
-- TOC entry 5562 (class 1259 OID 4631468)
-- Dependencies: 4703
-- Name: idx_fk_perfil_servico_perfil; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_perfil_servico_perfil ON perfil_servico USING btree (id_perfil);


--
-- TOC entry 5569 (class 1259 OID 4631469)
-- Dependencies: 4707
-- Name: idx_fk_resp_servico_responsab; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_resp_servico_responsab ON responsabilidade_servico USING btree (id_responsabilidade);


--
-- TOC entry 5566 (class 1259 OID 4631470)
-- Dependencies: 4705
-- Name: idx_fk_responsabilidade_area; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_responsabilidade_area ON responsabilidade USING btree (id_area);


--
-- TOC entry 5522 (class 1259 OID 4631471)
-- Dependencies: 3844
-- Name: idx_fk_unidade_org_pai; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_unidade_org_pai ON unidade_organizacional USING btree (id_unidade_organizacional_pai);


--
-- TOC entry 5523 (class 1259 OID 4631472)
-- Dependencies: 3844
-- Name: idx_fk_unidade_org_raiz; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_unidade_org_raiz ON unidade_organizacional USING btree (id_unidade_organizacional_raiz);


--
-- TOC entry 5614 (class 1259 OID 4636709)
-- Dependencies: 4765
-- Name: idx_fk_unidade_organizacional_cnes; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_unidade_organizacional_cnes ON unidade_organizacional_cnes USING btree (id_unidade_organizacional);


--
-- TOC entry 5615 (class 1259 OID 4636714)
-- Dependencies: 4765
-- Name: idx_fk_unidade_organizacional_cnes_bairro; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_unidade_organizacional_cnes_bairro ON unidade_organizacional_cnes USING btree (id_bairro);


--
-- TOC entry 5616 (class 1259 OID 4636710)
-- Dependencies: 4765
-- Name: idx_fk_unidade_organizacional_cnes_cep; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_unidade_organizacional_cnes_cep ON unidade_organizacional_cnes USING btree (id_cep);


--
-- TOC entry 5617 (class 1259 OID 4636713)
-- Dependencies: 4765
-- Name: idx_fk_unidade_organizacional_cnes_cidade; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_unidade_organizacional_cnes_cidade ON unidade_organizacional_cnes USING btree (id_cidade);


--
-- TOC entry 5618 (class 1259 OID 4636712)
-- Dependencies: 4765
-- Name: idx_fk_unidade_organizacional_cnes_estado; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_unidade_organizacional_cnes_estado ON unidade_organizacional_cnes USING btree (id_estado);


--
-- TOC entry 5619 (class 1259 OID 4636711)
-- Dependencies: 4765
-- Name: idx_fk_unidade_organizacional_cnes_pais; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_unidade_organizacional_cnes_pais ON unidade_organizacional_cnes USING btree (id_pais);


--
-- TOC entry 5588 (class 1259 OID 4631473)
-- Dependencies: 4716
-- Name: idx_fk_usu_acesso_id_resp_desi; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_usu_acesso_id_resp_desi ON usuario_acesso USING btree (id_usuario_responsa_designada);


--
-- TOC entry 5589 (class 1259 OID 4631474)
-- Dependencies: 4716
-- Name: idx_fk_usu_acesso_id_resp_serv; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_usu_acesso_id_resp_serv ON usuario_acesso USING btree (id_responsabilidade_servico);


--
-- TOC entry 5590 (class 1259 OID 4631475)
-- Dependencies: 4716
-- Name: idx_fk_usu_acesso_id_usu_papel; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_usu_acesso_id_usu_papel ON usuario_acesso USING btree (id_usuario_papel);


--
-- TOC entry 5572 (class 1259 OID 4631476)
-- Dependencies: 4709
-- Name: idx_fk_usu_papel_id_usu_design; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_usu_papel_id_usu_design ON usuario_papel USING btree (id_usuario_designador);


--
-- TOC entry 5573 (class 1259 OID 4631477)
-- Dependencies: 4709
-- Name: idx_fk_usu_papel_id_usuario; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_usu_papel_id_usuario ON usuario_papel USING btree (id_usuario);


--
-- TOC entry 5577 (class 1259 OID 4631478)
-- Dependencies: 4710
-- Name: idx_fk_usu_resp_id_designador; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_usu_resp_id_designador ON usuario_responsa_designada USING btree (id_usuario_designador);


--
-- TOC entry 5578 (class 1259 OID 4631479)
-- Dependencies: 4710
-- Name: idx_fk_usu_resp_id_responsalid; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_usu_resp_id_responsalid ON usuario_responsa_designada USING btree (id_responsabilidade);


--
-- TOC entry 5579 (class 1259 OID 4631480)
-- Dependencies: 4710
-- Name: idx_fk_usu_resp_id_usuario; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_usu_resp_id_usuario ON usuario_responsa_designada USING btree (id_usuario);


--
-- TOC entry 5539 (class 1259 OID 4631481)
-- Dependencies: 4423
-- Name: idx_fk_usuario_aprovador; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_usuario_aprovador ON usuario USING btree (id_usuario_aprovador);


--
-- TOC entry 5574 (class 1259 OID 4631482)
-- Dependencies: 4709
-- Name: idx_fk_usuario_papel_id_papel; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_usuario_papel_id_papel ON usuario_papel USING btree (id_papel);


--
-- TOC entry 5597 (class 1259 OID 4631483)
-- Dependencies: 4722
-- Name: idx_fk_usuario_perfil; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_usuario_perfil ON usuario_perfil USING btree (id_perfil);


--
-- TOC entry 5598 (class 1259 OID 4631484)
-- Dependencies: 4722
-- Name: idx_fk_usuario_perfil_acesso; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_usuario_perfil_acesso ON usuario_perfil USING btree (id_usuario_acesso);


--
-- TOC entry 5599 (class 1259 OID 4631485)
-- Dependencies: 4722
-- Name: idx_fk_usuario_perfil_negacao; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_usuario_perfil_negacao ON usuario_perfil USING btree (id_usuario_negacao);


--
-- TOC entry 5600 (class 1259 OID 4631486)
-- Dependencies: 4722
-- Name: idx_fk_usuario_perfil_us; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_usuario_perfil_us ON usuario_perfil USING btree (id_usuario);


--
-- TOC entry 5603 (class 1259 OID 4631487)
-- Dependencies: 4725
-- Name: idx_fk_usuario_senha_us; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_usuario_senha_us ON usuario_senha USING btree (id_usuario);


--
-- TOC entry 5606 (class 1259 OID 4631488)
-- Dependencies: 4727
-- Name: idx_fk_usuario_servico_pers_us; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_usuario_servico_pers_us ON usuario_servico_personalizado USING btree (id_usuario);


--
-- TOC entry 5609 (class 1259 OID 4631489)
-- Dependencies: 4729
-- Name: idx_fk_usuario_status_us; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_usuario_status_us ON usuario_status USING btree (id_usuario);


--
-- TOC entry 5526 (class 1259 OID 4631490)
-- Dependencies: 3845
-- Name: idx_fk_usuario_und_org; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_usuario_und_org ON usuario_und_organizacional USING btree (id_unidade_organizacional);


--
-- TOC entry 5527 (class 1259 OID 4631491)
-- Dependencies: 3845
-- Name: idx_fk_usuario_und_org_us; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_usuario_und_org_us ON usuario_und_organizacional USING btree (id_usuario);


--
-- TOC entry 5593 (class 1259 OID 4631492)
-- Dependencies: 4720
-- Name: idx_fk_usupentaho_papel; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_fk_usupentaho_papel ON usuario_pentaho USING btree (id_papel);


--
-- TOC entry 5620 (class 1259 OID 4636715)
-- Dependencies: 4765
-- Name: idx_unidade_organizacional_cnes_tx_cnes; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_unidade_organizacional_cnes_tx_cnes ON unidade_organizacional_cnes USING btree (lower(to_ascii((tx_cnes)::text)));


--
-- TOC entry 5621 (class 1259 OID 4636717)
-- Dependencies: 4765
-- Name: idx_unidade_organizacional_cnes_tx_nome_fantasia; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_unidade_organizacional_cnes_tx_nome_fantasia ON unidade_organizacional_cnes USING btree (lower(to_ascii((tx_nome_fantasia)::text)));


--
-- TOC entry 5622 (class 1259 OID 4636716)
-- Dependencies: 4765
-- Name: idx_unidade_organizacional_cnes_tx_razao_social; Type: INDEX; Schema: seguranca; Owner: root; Tablespace: 
--

CREATE INDEX idx_unidade_organizacional_cnes_tx_razao_social ON unidade_organizacional_cnes USING btree (lower(to_ascii((tx_razao_social)::text)));


--
-- TOC entry 5635 (class 2606 OID 4635588)
-- Dependencies: 5524 3844 4691
-- Name: aprovador_und_organizacional_id_unidade_organizacional_fkey; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY aprovador_und_organizacional
    ADD CONSTRAINT aprovador_und_organizacional_id_unidade_organizacional_fkey FOREIGN KEY (id_unidade_organizacional) REFERENCES unidade_organizacional(id_unidade_organizacional);


--
-- TOC entry 5636 (class 2606 OID 4635593)
-- Dependencies: 5601 4722 4691
-- Name: aprovador_und_organizacional_id_usuario_perfil_fkey; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY aprovador_und_organizacional
    ADD CONSTRAINT aprovador_und_organizacional_id_usuario_perfil_fkey FOREIGN KEY (id_usuario_perfil) REFERENCES usuario_perfil(id_usuario_perfil);


--
-- TOC entry 5630 (class 2606 OID 4635598)
-- Dependencies: 5549 4694 4422
-- Name: grupo_usuario_id_grupo_fk; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY grupo_usuario
    ADD CONSTRAINT grupo_usuario_id_grupo_fk FOREIGN KEY (id_grupo) REFERENCES grupo(id_grupo);


--
-- TOC entry 5631 (class 2606 OID 4635603)
-- Dependencies: 5540 4423 4422
-- Name: grupo_usuario_id_usuario_desig_fk; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY grupo_usuario
    ADD CONSTRAINT grupo_usuario_id_usuario_desig_fk FOREIGN KEY (id_usuario_designador) REFERENCES usuario(id_usuario);


--
-- TOC entry 5632 (class 2606 OID 4635608)
-- Dependencies: 5540 4423 4422
-- Name: grupo_usuario_id_usuario_fk; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY grupo_usuario
    ADD CONSTRAINT grupo_usuario_id_usuario_fk FOREIGN KEY (id_usuario) REFERENCES usuario(id_usuario);


--
-- TOC entry 5637 (class 2606 OID 4635613)
-- Dependencies: 5552 4697 4699
-- Name: papel_id_papel_fk; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY papel_responsabilidade
    ADD CONSTRAINT papel_id_papel_fk FOREIGN KEY (id_papel) REFERENCES papel(id_papel);


--
-- TOC entry 5638 (class 2606 OID 4635618)
-- Dependencies: 5567 4705 4699
-- Name: papel_id_responsabilidade_fk; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY papel_responsabilidade
    ADD CONSTRAINT papel_id_responsabilidade_fk FOREIGN KEY (id_responsabilidade) REFERENCES responsabilidade(id_responsabilidade);


--
-- TOC entry 5639 (class 2606 OID 4635623)
-- Dependencies: 5560 4701 4703
-- Name: perfil_servico_id_perfil_fkey; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY perfil_servico
    ADD CONSTRAINT perfil_servico_id_perfil_fkey FOREIGN KEY (id_perfil) REFERENCES perfil(id_perfil);


--
-- TOC entry 5640 (class 2606 OID 4635628)
-- Dependencies: 5546 4692 4705
-- Name: responsabilidade_id_area_fkey; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY responsabilidade
    ADD CONSTRAINT responsabilidade_id_area_fkey FOREIGN KEY (id_area) REFERENCES area(id_area);


--
-- TOC entry 5641 (class 2606 OID 4635633)
-- Dependencies: 5567 4705 4707
-- Name: responsabilidade_servico_id_responsabilidade_fkey; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY responsabilidade_servico
    ADD CONSTRAINT responsabilidade_servico_id_responsabilidade_fkey FOREIGN KEY (id_responsabilidade) REFERENCES responsabilidade(id_responsabilidade);


--
-- TOC entry 5665 (class 2606 OID 4636704)
-- Dependencies: 4060 4765
-- Name: unidade_organizacional_cnes_id_bairro_fkey; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY unidade_organizacional_cnes
    ADD CONSTRAINT unidade_organizacional_cnes_id_bairro_fkey FOREIGN KEY (id_bairro) REFERENCES geral.bairro(id_bairro);


--
-- TOC entry 5661 (class 2606 OID 4636684)
-- Dependencies: 4161 4765
-- Name: unidade_organizacional_cnes_id_cep_fk; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY unidade_organizacional_cnes
    ADD CONSTRAINT unidade_organizacional_cnes_id_cep_fk FOREIGN KEY (id_cep) REFERENCES geral.cep(id_cep);


--
-- TOC entry 5664 (class 2606 OID 4636699)
-- Dependencies: 4074 4765
-- Name: unidade_organizacional_cnes_id_cidade_fkey; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY unidade_organizacional_cnes
    ADD CONSTRAINT unidade_organizacional_cnes_id_cidade_fkey FOREIGN KEY (id_cidade) REFERENCES geral.cidade(id_cidade);


--
-- TOC entry 5663 (class 2606 OID 4636694)
-- Dependencies: 4174 4765
-- Name: unidade_organizacional_cnes_id_estado_fkey; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY unidade_organizacional_cnes
    ADD CONSTRAINT unidade_organizacional_cnes_id_estado_fkey FOREIGN KEY (id_estado) REFERENCES geral.estado(id_estado);


--
-- TOC entry 5662 (class 2606 OID 4636689)
-- Dependencies: 4189 4765
-- Name: unidade_organizacional_cnes_id_pais_fkey; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY unidade_organizacional_cnes
    ADD CONSTRAINT unidade_organizacional_cnes_id_pais_fkey FOREIGN KEY (id_pais) REFERENCES geral.pais(id_pais);


--
-- TOC entry 5660 (class 2606 OID 4636679)
-- Dependencies: 5524 3844 4765
-- Name: unidade_organizacional_cnes_id_unidade_organizacional_fkey; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY unidade_organizacional_cnes
    ADD CONSTRAINT unidade_organizacional_cnes_id_unidade_organizacional_fkey FOREIGN KEY (id_unidade_organizacional) REFERENCES unidade_organizacional(id_unidade_organizacional);


--
-- TOC entry 5625 (class 2606 OID 4635638)
-- Dependencies: 5524 3844 3844
-- Name: unidade_organizacional_id_unidade_organizacional_pai_fkey; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY unidade_organizacional
    ADD CONSTRAINT unidade_organizacional_id_unidade_organizacional_pai_fkey FOREIGN KEY (id_unidade_organizacional_pai) REFERENCES unidade_organizacional(id_unidade_organizacional);


--
-- TOC entry 5626 (class 2606 OID 4635643)
-- Dependencies: 5524 3844 3844
-- Name: unidade_organizacional_id_unidade_organizacional_raiz_fkey; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY unidade_organizacional
    ADD CONSTRAINT unidade_organizacional_id_unidade_organizacional_raiz_fkey FOREIGN KEY (id_unidade_organizacional_raiz) REFERENCES unidade_organizacional(id_unidade_organizacional);


--
-- TOC entry 5627 (class 2606 OID 4635648)
-- Dependencies: 5531 4055 3844
-- Name: unidade_organizacional_nb_tipo_und_organizacional_fkey; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY unidade_organizacional
    ADD CONSTRAINT unidade_organizacional_nb_tipo_und_organizacional_fkey FOREIGN KEY (nb_tipo_und_organizacional) REFERENCES sys_tipo_und_organizacional(nb_tipo_und_organizacional);


--
-- TOC entry 5648 (class 2606 OID 4635653)
-- Dependencies: 5570 4707 4716
-- Name: usuario_acesso_id_responsabilidade_servico_fk; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY usuario_acesso
    ADD CONSTRAINT usuario_acesso_id_responsabilidade_servico_fk FOREIGN KEY (id_responsabilidade_servico) REFERENCES responsabilidade_servico(id_responsabilidade_servico);


--
-- TOC entry 5649 (class 2606 OID 4635658)
-- Dependencies: 5575 4709 4716
-- Name: usuario_acesso_id_usuario_papel_fk; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY usuario_acesso
    ADD CONSTRAINT usuario_acesso_id_usuario_papel_fk FOREIGN KEY (id_usuario_papel) REFERENCES usuario_papel(id_usuario_papel);


--
-- TOC entry 5650 (class 2606 OID 4635663)
-- Dependencies: 5580 4710 4716
-- Name: usuario_acesso_id_usuario_responsa_designada_fk; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY usuario_acesso
    ADD CONSTRAINT usuario_acesso_id_usuario_responsa_designada_fk FOREIGN KEY (id_usuario_responsa_designada) REFERENCES usuario_responsa_designada(id_usuario_responsa_designada);


--
-- TOC entry 5633 (class 2606 OID 4635668)
-- Dependencies: 5540 4423 4423
-- Name: usuario_id_usuario_aprovador_fkey; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY usuario
    ADD CONSTRAINT usuario_id_usuario_aprovador_fkey FOREIGN KEY (id_usuario_aprovador) REFERENCES usuario(id_usuario);


--
-- TOC entry 5634 (class 2606 OID 4635673)
-- Dependencies: 5586 4714 4423
-- Name: usuario_nb_tipo_usuario_fkey; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY usuario
    ADD CONSTRAINT usuario_nb_tipo_usuario_fkey FOREIGN KEY (nb_tipo_usuario) REFERENCES sys_tipo_usuario(nb_tipo_usuario);


--
-- TOC entry 5642 (class 2606 OID 4635678)
-- Dependencies: 5552 4697 4709
-- Name: usuario_papel_id_papel_fk; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY usuario_papel
    ADD CONSTRAINT usuario_papel_id_papel_fk FOREIGN KEY (id_papel) REFERENCES papel(id_papel);


--
-- TOC entry 5643 (class 2606 OID 4635683)
-- Dependencies: 5540 4423 4709
-- Name: usuario_papel_id_usuario_designador_fk; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY usuario_papel
    ADD CONSTRAINT usuario_papel_id_usuario_designador_fk FOREIGN KEY (id_usuario_designador) REFERENCES usuario(id_usuario);


--
-- TOC entry 5644 (class 2606 OID 4635688)
-- Dependencies: 5540 4423 4709
-- Name: usuario_papel_id_usuario_fk; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY usuario_papel
    ADD CONSTRAINT usuario_papel_id_usuario_fk FOREIGN KEY (id_usuario) REFERENCES usuario(id_usuario);


--
-- TOC entry 5651 (class 2606 OID 4635693)
-- Dependencies: 5552 4697 4720
-- Name: usuario_pentaho_id_papel_fkey; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY usuario_pentaho
    ADD CONSTRAINT usuario_pentaho_id_papel_fkey FOREIGN KEY (id_papel) REFERENCES papel(id_papel);


--
-- TOC entry 5652 (class 2606 OID 4635698)
-- Dependencies: 5540 4423 4722
-- Name: usuario_perfil_acesso_fk; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY usuario_perfil
    ADD CONSTRAINT usuario_perfil_acesso_fk FOREIGN KEY (id_usuario_acesso) REFERENCES usuario(id_usuario);


--
-- TOC entry 5653 (class 2606 OID 4635703)
-- Dependencies: 5560 4701 4722
-- Name: usuario_perfil_id_perfil_fkey; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY usuario_perfil
    ADD CONSTRAINT usuario_perfil_id_perfil_fkey FOREIGN KEY (id_perfil) REFERENCES perfil(id_perfil);


--
-- TOC entry 5654 (class 2606 OID 4635708)
-- Dependencies: 5540 4423 4722
-- Name: usuario_perfil_id_usuario_fkey; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY usuario_perfil
    ADD CONSTRAINT usuario_perfil_id_usuario_fkey FOREIGN KEY (id_usuario) REFERENCES usuario(id_usuario);


--
-- TOC entry 5655 (class 2606 OID 4635713)
-- Dependencies: 5540 4423 4722
-- Name: usuario_perfil_negacao_fk; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY usuario_perfil
    ADD CONSTRAINT usuario_perfil_negacao_fk FOREIGN KEY (id_usuario_negacao) REFERENCES usuario(id_usuario);


--
-- TOC entry 5645 (class 2606 OID 4635718)
-- Dependencies: 5567 4705 4710
-- Name: usuario_responsa_designada_id_responsabilidade_fk; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY usuario_responsa_designada
    ADD CONSTRAINT usuario_responsa_designada_id_responsabilidade_fk FOREIGN KEY (id_responsabilidade) REFERENCES responsabilidade(id_responsabilidade);


--
-- TOC entry 5646 (class 2606 OID 4635723)
-- Dependencies: 5540 4423 4710
-- Name: usuario_responsa_designada_id_usuario_designador_fk; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY usuario_responsa_designada
    ADD CONSTRAINT usuario_responsa_designada_id_usuario_designador_fk FOREIGN KEY (id_usuario_designador) REFERENCES usuario(id_usuario);


--
-- TOC entry 5647 (class 2606 OID 4635728)
-- Dependencies: 5540 4423 4710
-- Name: usuario_responsa_designada_id_usuario_fk; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY usuario_responsa_designada
    ADD CONSTRAINT usuario_responsa_designada_id_usuario_fk FOREIGN KEY (id_usuario) REFERENCES usuario(id_usuario);


--
-- TOC entry 5656 (class 2606 OID 4635733)
-- Dependencies: 5540 4423 4725
-- Name: usuario_senha_id_usuario_fkey; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY usuario_senha
    ADD CONSTRAINT usuario_senha_id_usuario_fkey FOREIGN KEY (id_usuario) REFERENCES usuario(id_usuario);


--
-- TOC entry 5657 (class 2606 OID 4635738)
-- Dependencies: 5540 4423 4727
-- Name: usuario_servico_personalizado_id_usuario_fkey; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY usuario_servico_personalizado
    ADD CONSTRAINT usuario_servico_personalizado_id_usuario_fkey FOREIGN KEY (id_usuario) REFERENCES usuario(id_usuario);


--
-- TOC entry 5658 (class 2606 OID 4635743)
-- Dependencies: 5583 4712 4727
-- Name: usuario_servico_personalizado_nb_sys_tipo_servico_fkey; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY usuario_servico_personalizado
    ADD CONSTRAINT usuario_servico_personalizado_nb_sys_tipo_servico_fkey FOREIGN KEY (nb_sys_tipo_servico) REFERENCES sys_tipo_servico(nb_sys_tipo_servico);


--
-- TOC entry 5659 (class 2606 OID 4635748)
-- Dependencies: 5540 4423 4729
-- Name: usuario_status_id_usuario_fkey; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY usuario_status
    ADD CONSTRAINT usuario_status_id_usuario_fkey FOREIGN KEY (id_usuario) REFERENCES usuario(id_usuario);


--
-- TOC entry 5628 (class 2606 OID 4635753)
-- Dependencies: 5524 3844 3845
-- Name: usuario_und_organizacional_id_unidade_organizacional_fkey; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY usuario_und_organizacional
    ADD CONSTRAINT usuario_und_organizacional_id_unidade_organizacional_fkey FOREIGN KEY (id_unidade_organizacional) REFERENCES unidade_organizacional(id_unidade_organizacional);


--
-- TOC entry 5629 (class 2606 OID 4635758)
-- Dependencies: 5540 4423 3845
-- Name: usuario_und_organizacional_id_usuario_fkey; Type: FK CONSTRAINT; Schema: seguranca; Owner: root
--

ALTER TABLE ONLY usuario_und_organizacional
    ADD CONSTRAINT usuario_und_organizacional_id_usuario_fkey FOREIGN KEY (id_usuario) REFERENCES usuario(id_usuario);


--
-- TOC entry 5668 (class 0 OID 0)
-- Dependencies: 20
-- Name: seguranca; Type: ACL; Schema: -; Owner: root
--

REVOKE ALL ON SCHEMA seguranca FROM PUBLIC;
REVOKE ALL ON SCHEMA seguranca FROM root;
GRANT ALL ON SCHEMA seguranca TO root;


--
-- TOC entry 5669 (class 0 OID 0)
-- Dependencies: 4056
-- Name: vw_unidade_organizacional; Type: ACL; Schema: seguranca; Owner: root
--

REVOKE ALL ON TABLE vw_unidade_organizacional FROM PUBLIC;
REVOKE ALL ON TABLE vw_unidade_organizacional FROM root;
GRANT ALL ON TABLE vw_unidade_organizacional TO root;


-- Completed on 2012-07-06 17:39:34

--
-- PostgreSQL database dump complete
--

