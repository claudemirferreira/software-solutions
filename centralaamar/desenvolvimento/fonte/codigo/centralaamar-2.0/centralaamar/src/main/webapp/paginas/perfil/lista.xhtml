<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:component xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions">

	<h:form id="form">

		<p:panel>
			<p:dataGrid id="rotinaousel"
				value="#{perfilControlador.listaPerfilUsuario}" var="perfil"
				headerText="Administrativo" columns="#{usuarioControlador.colunas}"
				style="width:100%; height:100%; ">
				<div align="center">
					<h:panelGrid id="panelRelatorio">

						<h:commandLink
							actionListener="#{rotinaControlador.telaRotinas(perfil)}"
							title="#{perfil.nome}" update=":form"
							onstart="PF('blockUIWidget').block()"
							oncomplete="PF('blockUIWidget').unblock()">
							<p:graphicImage width="100px" height="100px"
								value="#{perfil.imagem}" />
						</h:commandLink>

					</h:panelGrid>
				</div>
			</p:dataGrid>
			<p:commandButton
				action="#{perfilControlador.enviar}"
				id="home" icon="ui-icon-home" value="Retornar" update=":form" />
		</p:panel>

	</h:form>

	<pe:blockUI widgetVar="blockUIWidget">
		<h:panelGrid columns="2">
			<h:graphicImage value="ajax-loader.gif"
				style="margin-right: 12px; vertical-align: middle;" />
			<h:outputText value="Please wait..." style="white-space: nowrap;" />
		</h:panelGrid>
	</pe:blockUI>
</ui:component>